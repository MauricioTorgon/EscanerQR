<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/script.js"></script>
</head>
<body>
    
    <!-- Header con botón de menú -->
    <header>
      <button id="menu-toggle" class="menu-button">☰</button>
      <h1>Control de Asistencia</h1>
    </header>
    
      <!-- Menú lateral (drawer) -->
    <nav id="sidebar" class="sidebar">
      <img src="img/sidebar/controlAsistencia.png" alt="Torneo de Rubick" class="sideimg">
      <ul>
        <li><a href="bienvenida.html"><img src="img/sidebar/home-icon.png" class="menu-img">Inicio</a></li>
        <li><a href="preparaQR.html"><img src="img/sidebar/scanqr-icon.png" class="menu-img">Escanear QR</a></li>
        <li><a href="asistencias.html"><img src="img/sidebar/asistencias-icon.png" class="menu-img">Asistencias</a></li>
        <li><a href="generarQR.html"><img src="img/sidebar/qr-icon.png" class="menu-img">Mi QR</a></li>
        <li><a href="#" id="logout-link"><img src="img/sidebar/logout-icon.png" alt="Salir" class="menu-img">Salir</a></li>
      </ul>
    </nav>
    
    <!-- Contenido principal -->
<main class="main-content">
  <div class="container">
    <h1><span style="color: #3ca2f5;"><strong>Asistencias Registradas</strong></span></h1>
    
    <!-- Contenedor scrollable agregado -->
    <div class="table-responsive">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Matrícula</th>
            <th>Nombre</th>
            <th>Fecha</th>
            <th>Entrada</th>
            <th>Salida</th>
          </tr>
        </thead>
        <tbody id="tabla-asistencias"></tbody>
      </table>
    </div>
    
  </div>
</main>

  <style>
    /* Estilos CSS para el scroll horizontal */
    .table-responsive {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch; /* Scroll suave en dispositivos móviles */
      max-width: 100%;
    }
    
    /* Opcional: Evitar que las celdas se rompan en múltiples líneas */
    .table-responsive table {
      min-width: 600px; /* Ancho mínimo para forzar el scroll */
      white-space: nowrap;
    }
    
    /* Opcional: Mejorar legibilidad en móviles */
    @media (max-width: 768px) {
      .table-responsive td, 
      .table-responsive th {
        padding: 8px;
        font-size: 14px;
      }
    }
  </style>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const registros = JSON.parse(localStorage.getItem('registros')) || [];
    const tbody = document.getElementById('tabla-asistencias');

    registros.forEach(reg => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${reg.matricula}</td>
        <td>${reg.nombre}</td>
        <td>${reg.fecha}</td>
        <td>${reg.entrada || ''}</td>
        <td>${reg.salida || ''}</td>
      `;
      tbody.appendChild(row);
    });
  });
  </script>
  
  <!-- Logout de la pagina-->
  <script>
    document.getElementById('logout-link').addEventListener('click', function(e) {
    e.preventDefault();
    if (confirm("¿Estás seguro de que quieres salir?")) {
      localStorage.removeItem('currentUser');
      window.location.href = "index.html";
    }
  });
  </script>
    <!-- Botón flotante 
     <button class="fab" id="action-button" onclick="window.location.href='formulario.html';">+</button>
    -->
</body>
</html>

